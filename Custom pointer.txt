local player = game.Players.LocalPlayer
local gui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
gui.Name = "PointerUI"
gui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

local function animateRGB(frame)
	task.spawn(function()
		local hue = 0
		while task.wait() do
			hue += 0.005
			if hue > 1 then hue = 0 end
			frame.BorderColor3 = Color3.fromHSV(hue,1,1)
		end
	end)
end

local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0,300,0,220)
mainFrame.Position = UDim2.new(0.35,0,0.3,0)
mainFrame.BackgroundColor3 = Color3.fromRGB(25,25,25)
mainFrame.BorderSizePixel = 3
mainFrame.Active = true
mainFrame.Draggable = true
mainFrame.Visible = false
mainFrame.ZIndex = 2
mainFrame.Parent = gui
animateRGB(mainFrame)

local title = Instance.new("TextLabel")
title.Size = UDim2.new(1,0,0,30)
title.Position = UDim2.new(0,0,0,0)
title.BackgroundTransparency = 1
title.Text = "Put your image here ↓"
title.TextColor3 = Color3.fromRGB(255,255,255)
title.Font = Enum.Font.GothamBold
title.TextSize = 16
title.Parent = mainFrame

local textBox = Instance.new("TextBox")
textBox.Size = UDim2.new(0.9,0,0,30)
textBox.Position = UDim2.new(0.05,0,0.25,0)
textBox.PlaceholderText = "https://raw.githubusercontent.com/.../image.png"
textBox.TextColor3 = Color3.fromRGB(255,255,255)
textBox.BackgroundColor3 = Color3.fromRGB(40,40,40)
textBox.BorderSizePixel = 2
textBox.Font = Enum.Font.Gotham
textBox.TextSize = 14
textBox.Parent = mainFrame
animateRGB(textBox)

local confirmButton = Instance.new("TextButton")
confirmButton.Size = UDim2.new(0.9,0,0,30)
confirmButton.Position = UDim2.new(0.05,0,0.45,0)
confirmButton.Text = "✅ Download & Apply Image"
confirmButton.TextColor3 = Color3.fromRGB(255,255,255)
confirmButton.BackgroundColor3 = Color3.fromRGB(50,50,50)
confirmButton.Font = Enum.Font.GothamBold
confirmButton.TextSize = 14
confirmButton.BorderSizePixel = 2
confirmButton.Parent = mainFrame
animateRGB(confirmButton)

local increase = Instance.new("TextButton")
increase.Size = UDim2.new(0.4,0,0,30)
increase.Position = UDim2.new(0.05,0,0.7,0)
increase.Text = "+ Bigger"
increase.TextColor3 = Color3.new(1,1,1)
increase.BackgroundColor3 = Color3.fromRGB(50,50,50)
increase.Font = Enum.Font.GothamBold
increase.TextSize = 14
increase.BorderSizePixel = 2
increase.Parent = mainFrame
animateRGB(increase)

local decrease = Instance.new("TextButton")
decrease.Size = UDim2.new(0.4,0,0,30)
decrease.Position = UDim2.new(0.55,0,0.7,0)
decrease.Text = "- Smaller"
decrease.TextColor3 = Color3.new(1,1,1)
decrease.BackgroundColor3 = Color3.fromRGB(50,50,50)
decrease.Font = Enum.Font.GothamBold
decrease.TextSize = 14
decrease.BorderSizePixel = 2
decrease.Parent = mainFrame
animateRGB(decrease)

local pointer = Instance.new("ImageLabel")
pointer.BackgroundTransparency = 1
pointer.Visible = false
pointer.ZIndex = 1
pointer.Parent = gui

local pointerSize = 80
local minSize = 10
local maxSize = 300

local function setPointerSize(size)
	pointerSize = size
	pointer.Size = UDim2.new(0, pointerSize, 0, pointerSize)
	pointer.Position = UDim2.new(0.5, -pointerSize/2, 0.5, -pointerSize/2 - 30)
end

setPointerSize(pointerSize)

increase.MouseButton1Click:Connect(function()
	setPointerSize(math.min(maxSize, pointerSize + 10))
end)

decrease.MouseButton1Click:Connect(function()
	setPointerSize(math.max(minSize, pointerSize - 10))
end)

local toggle = Instance.new("ImageButton")
toggle.Size = UDim2.new(0,80,0,80)
toggle.Position = UDim2.new(0.05,0,0.8,0)
toggle.BackgroundColor3 = Color3.fromRGB(25,25,25)
toggle.BorderSizePixel = 3
toggle.Active = true
toggle.Draggable = true
toggle.ZIndex = 3
toggle.Parent = gui
animateRGB(toggle)

local toggleFile = "ToggleImage.png"
if not isfile(toggleFile) then
	local toggleURL = "https://raw.githubusercontent.com/MIYKO0EB/Assets-MP3-images-idk./refs/heads/main/Screenshot_2025-10-07-20-04-47-825_com.zhiliaoapp.musically-edit.jpg"
	writefile(toggleFile, game:HttpGet(toggleURL))
end
toggle.Image = getcustomasset(toggleFile)

local uiVisible = false
toggle.MouseButton1Click:Connect(function()
	uiVisible = not uiVisible
	mainFrame.Visible = uiVisible
end)

confirmButton.MouseButton1Click:Connect(function()
	local url = textBox.Text
	if url ~= "" and url:match("^https://") then
		local success, err = pcall(function()
			local fileName = "CustomPointer.png"
			writefile(fileName, game:HttpGet(url))
			pointer.Image = getcustomasset(fileName)
			pointer.Visible = true
		end)
		if success then
			print("[✅] Imagen aplicada correctamente.")
		else
			warn("[⚠️] Error al descargar o aplicar la imagen:", err)
		end
	else
		warn("[⚠️] URL inválida.")
	end
end)
